#!/bin/sh
# Husky pre-push hook
# Run builds before pushing to ensure code compiles

echo "ğŸ—ï¸  Running pre-push checks..."

# Build API
echo "ğŸ”¨ Building API..."
pnpm run build:api
if [ $? -ne 0 ]; then
  echo "âŒ API build failed. Please fix the build errors before pushing."
  exit 1
fi

# Build Web
echo "ğŸ”¨ Building Web..."
pnpm run build:web
if [ $? -ne 0 ]; then
  echo "âŒ Web build failed. Please fix the build errors before pushing."
  exit 1
fi

echo "âœ… Pre-push checks passed!"
