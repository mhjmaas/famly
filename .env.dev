# Famly Home Deployment Configuration
# Copy this file to .env and update the values with your own secrets

# HTTPS Configuration
# Protocol for external access: https (via Caddy reverse proxy) or http (manual dev mode)
# Default: https (requires mkcert installation for local development)
# Set to "http" to disable Caddy and run services directly on ports 3000/3001
PROTOCOL=https

# Caddyfile Selection (for development)
# Note: start-dev.sh uses docker/compose.dev.yml which has its own port mappings
CADDYFILE=Caddyfile.localhost

# MinIO Object Storage Configuration
# Console port for admin access - API port 9000 is internal only
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=famly-admin
MINIO_ROOT_PASSWORD=change-this-to-a-secure-password-min-32-chars
MINIO_BUCKET=famly-rewards

# API Configuration
API_PORT=3001

# CORS Configuration - Must match where web app is accessed from
# With HTTPS: https://localhost:8443
# With HTTP: http://localhost:3000
#CLIENT_URL=http://localhost:3000
CLIENT_URL=https://localhost:8443

# Better Auth Configuration (Used for authentication)
# IMPORTANT: Generate a secure random string of at least 32 characters
# You can generate one using: openssl rand -base64 32
BETTER_AUTH_SECRET=dev_better_auth_secret_min_32_chars_required_here

# IMPORTANT: Update this with your actual domain or IP address
# With HTTPS: https://localhost:8443/api (Caddy uses port 8443 for dev)
# With HTTP: http://localhost:3001
#BETTER_AUTH_URL=http://localhost:3001
BETTER_AUTH_URL=https://localhost:8443/api

# Web Application Configuration
WEB_PORT=3000

# Deployment Mode Configuration
# Determines how the application behaves for registration and onboarding
# - saas: Multi-tenant mode with open registration and landing page (default)
# - standalone: Single-family mode with one-time onboarding, registration locks after first family
DEPLOYMENT_MODE=standalone

# IMPORTANT: Update this with your actual API URL
# With HTTPS: https://localhost:8443/api (Caddy uses port 8443 for dev)
# With HTTP: http://localhost:3001
#NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_API_URL=https://localhost:8443/api
